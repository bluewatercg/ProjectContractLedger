# ===========================================
# 生产环境配置模板
# ===========================================
# 复制此文件为 .env 并填写实际配置值

# ===========================================
# 环境标识
# ===========================================
NODE_ENV=production

# ===========================================
# 应用端口配置
# ===========================================
# 前端HTTP端口（对外访问端口）
APP_HTTP_PORT=8000
# 后端API端口（对外访问端口）
APP_API_PORT=8080

# ===========================================
# 数据库配置 (外部MySQL服务器)
# ===========================================
# MySQL服务器地址（IP地址或域名）
DB_HOST=192.168.1.254
# MySQL端口（默认3306）
DB_PORT=3306
# 数据库用户名
DB_USERNAME=procontractledger
# 数据库密码
DB_PASSWORD=your_database_password
# 数据库名称
DB_DATABASE=procontractledger
# 数据库连接池大小
DB_POOL_SIZE=20

# ===========================================
# 外部Redis服务器配置
# ===========================================
# Redis服务器地址（IP地址或域名）
REDIS_HOST=192.168.1.160
# Redis端口（默认6379）
REDIS_PORT=6379
# Redis密码（如果设置了密码）
REDIS_PASSWORD=your_redis_password
# Redis数据库编号（默认0）
REDIS_DB=13

# ===========================================
# JWT配置
# ===========================================
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d

# ===========================================
# 应用配置
# ===========================================
# 日志级别
LOG_LEVEL=info
# 跨域配置（局域网IP部署建议设置为*或具体IP）
# 例如：CORS_ORIGINS=http://192.168.1.115:8000,http://192.168.1.115:8080
CORS_ORIGINS=*
# 时区配置
TZ=Asia/Shanghai

# ===========================================
# 前端配置（运行时注入）
# ===========================================
# 前端API基础URL（可选，默认使用相对路径代理）
# 如果前后端分离部署在不同端口，可以设置完整URL
# FRONTEND_API_BASE_URL=http://192.168.1.115:8080/api/v1
FRONTEND_API_BASE_URL=/api/v1

# ===========================================
# 网络配置
# ===========================================
# 网络模式：bridge 或 host
NETWORK_MODE=bridge

# ===========================================
# GitHub Container Registry配置
# ===========================================
# GitHub仓库名称
GITHUB_REPOSITORY=bluewatercg/projectcontractledger
# 镜像标签
IMAGE_TAG=latest

# ===========================================
# 可选：监控配置
# ===========================================
# Grafana管理员密码
GRAFANA_PASSWORD=admin

# ===========================================
# 使用说明
# ===========================================
# 1. 复制此文件为 .env
# 2. 填写所有必要的配置值（特别是数据库和Redis密码）
# 3. 确保外部MySQL和Redis服务器可访问
# 4. 运行部署命令：
#    docker-compose -f deployment/docker-compose.production.yml up -d
