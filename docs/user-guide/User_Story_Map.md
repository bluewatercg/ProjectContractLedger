# 用户故事地图 (User Story Map) - 客户合同管理系统

## 1. 用户故事地图概述

本用户故事地图旨在通过可视化用户在产品中的主要活动、任务和具体的用户故事，来帮助团队更好地理解用户需求，并确保产品功能设计紧密围绕用户价值展开。它将与产品路线图 (Roadmap) 关联，指导不同版本的迭代开发。

## 2. 用户活动流 (横向 - Backbone)

| 用户活动 (Activity) | 描述                                         |
| ------------------- | -------------------------------------------- |
| **管理客户信息**    | 维护和查询客户的基本资料                     |
| **管理合同**        | 创建、跟踪和管理客户合同的整个生命周期       |
| **管理开票**        | 根据合同条款进行开票操作并跟踪发票状态       |
| **管理到款**        | 记录客户付款并核销相应款项                   |
| **获取提醒与概览**  | 接收关键事件提醒并查看整体业务数据概览       |

## 3. 用户任务分解 (纵向 - Walking Skeleton & Details)

### 版本: MVP (最小可行产品)

| 用户活动 (Activity) | 用户任务 (Task)                     | 用户故事 (User Story)                                                                                                | 优先级 | 关联PRD功能点                                  |
| ------------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------- |
| **管理客户信息**    | 录入新客户                          | 作为 [系统操作员], 我想要 [录入客户的基本信息（名称、联系方式等）]，以便 [后续创建合同时能快速关联客户]。                     | P0     | 5.2.1.1 客户信息录入/编辑                      |
|                     | 查看/编辑客户信息                   | 作为 [系统操作员], 我想要 [查看和编辑已存在的客户信息]，以便 [保持客户资料的准确性]。                                     | P0     | 5.2.1.1 客户信息录入/编辑                      |
|                     | 查询客户                            | 作为 [系统操作员], 我想要 [根据客户名称快速查询客户信息]，以便 [快速定位目标客户]。                                       | P0     | 5.2.1.2 客户信息查询                           |
| **管理合同**        | 创建新合同                          | 作为 [系统操作员], 我想要 [创建一个新合同，关联客户并填写合同金额、有效期等核心信息，并上传合同附件]，以便 [规范记录合同内容]。 | P0     | 5.2.2.1 合同创建与编辑                         |
|                     | 查看合同列表                        | 作为 [系统操作员], 我想要 [查看所有合同的列表，包含合同编号、客户名称、金额、状态等信息]，以便 [概览所有合同情况]。             | P0     | 5.2.2.2 合同查询与列表                         |
|                     | 查看合同详情                        | 作为 [系统操作员], 我想要 [点击合同列表中的条目后查看合同的详细信息和附件]，以便 [了解具体合同内容]。                         | P0     | 5.2.2.2 合同查询与列表                         |
|                     | 更新合同状态 (基础)                 | 作为 [系统操作员], 我想要 [手动更新合同的状态（如：从草稿到履行中，从履行中到已完成）]，以便 [反映合同的实际进展]。             | P0     | 5.2.2.1 合同创建与编辑 (状态管理部分)          |
| **管理开票**        | 记录开票信息                        | 作为 [系统操作员], 我想要 [为某个合同记录一笔或多笔开票信息，包括开票金额、日期、票号]，以便 [跟踪合同的开票情况]。                 | P0     | 5.2.3.1 开票记录创建与管理                     |
|                     | 查看合同的开票记录                  | 作为 [系统操作员], 我想要 [查看某个合同下所有关联的发票记录列表]，以便 [了解该合同的完整开票历史]。                                 | P0     | 5.2.3.3 开票状态跟踪与查询                     |
| **管理到款**        | 记录到款信息                        | 作为 [系统操作员], 我想要 [为某张发票记录一笔或多笔到款信息，包括到款金额、日期]，以便 [跟踪发票的收款情况]。                   | P0     | 5.2.4.1 到款记录创建与管理                     |
|                     | 查看发票的到款记录                  | 作为 [系统操作员], 我想要 [查看某张发票下所有的到款记录]，以便 [了解该发票的完整收款历史]。                                 | P0     | 5.2.4.3 到款状态跟踪与查询                     |
| **获取提醒与概览**  | (MVP可选) 接收合同到期提醒 (简单版) | 作为 [系统操作员], 我想要 [在合同即将到期前收到一个简单的提醒]，以便 [及时处理合同续约或完结事宜]。                         | P1     | 5.2.5 提醒与通知模块                           |
|                     | 查看合同的汇总到款情况              | 作为 [系统操作员], 我想要 [查看某个合同下所有发票的汇总到款情况（例如总已付、总未付）]，以便 [整体掌握合同回款进度]。             | P1     | 5.2.4.3 到款状态跟踪与查询                     |

### 版本: V1.1 (迭代优化)

| 用户活动 (Activity) | 用户任务 (Task)                     | 用户故事 (User Story)                                                                                                   | 优先级 | 关联PRD功能点                                  |
| ------------------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------- |
| **管理合同**        | 管理合同版本 (基础)                 | 作为 [系统操作员], 我想要 [在合同内容发生变更时，能够保存合同的不同版本记录]，以便 [追溯合同的修改历史]。                         | P1     | 5.2.2.1 合同创建与编辑 (隐含版本需求，PRD中未明确) |
|                     | 跟踪合同履约节点                    | 作为 [系统操作员], 我想要 [为合同设置并跟踪关键的履约节点（如付款、交付）的状态和日期]，以便 [确保合同按计划执行]。               | P1     | 5.2.2.4 合同履行跟踪                           |
|                     | 管理更完善的合同状态                | 作为 [系统操作员], 我想要 [使用更细致的合同状态（如待签署、已归档、已作废）来管理合同]，以便 [更准确地反映合同生命周期]。         | P1     | 5.2.2.1 合同创建与编辑 (状态管理部分)          |
| **获取提醒与概览**  | 接收关键日期提醒 (完善)             | 作为 [系统操作员], 我想要 [接收到合同付款日、交付日、续约日等关键日期的提醒]，以便 [不会错过重要事项]。                         | P0     | 5.2.5 提醒与通知模块 (PRD中未明确拆分此具体故事) |
|                     | 查看系统内通知                      | 作为 [系统操作员], 我想要 [在一个集中的地方查看所有系统生成的通知和提醒]，以便 [统一管理重要信息]。                             | P1     | (PRD中未明确的通知中心功能)                    |
|                     | 查看简单数据仪表盘                  | 作为 [系统操作员], 我想要 [在一个仪表盘上看到核心业务数据（如本月应收款、已收款）的概览]，以便 [快速了解业务状况]。               | P1     | 5.2.6 数据统计与报表 (PRD中为数据查询与统计)   |

### 版本: V1.2 (功能增强)

| 用户活动 (Activity) | 用户任务 (Task)           | 用户故事 (User Story)                                                                                             | 优先级 | 关联PRD功能点                                  |
| ------------------- | ------------------------- | ----------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------- |
| **管理客户信息**    | (优化) 高级客户查询       | 作为 [系统操作员], 我想要 [使用更复杂的条件组合来查询客户信息]，以便 [更精确地定位客户]。                                 | P1     | 5.2.1.2 客户信息查询 (隐含高级查询需求)        |
| **管理合同**        | (优化) 高级合同查询       | 作为 [系统操作员], 我想要 [使用更灵活的条件组合（如金额范围、多状态）来筛选和查询合同]，以便 [高效管理大量合同]。                 | P1     | 5.2.2.2 合同查询与列表 (隐含高级查询需求)      |
|                     | 导出合同数据              | 作为 [系统操作员], 我想要 [将合同列表数据导出为Excel或CSV文件]，以便 [进行离线分析或备份]。                                   | P1     | (PRD中未明确的数据导出功能)                    |
| **管理开票**        | (优化) 高级开票查询       | 作为 [系统操作员], 我想要 [根据更多维度（如开票状态、客户）查询开票记录]，以便 [更好地跟踪开票进展]。                           | P1     | 5.2.3.3 开票状态跟踪与查询 (隐含高级查询需求)  |
|                     | 导出开票数据              | 作为 [系统操作员], 我想要 [将开票记录导出为Excel或CSV文件]，以便 [进行财务对账或分析]。                                     | P1     | (PRD中未明确的数据导出功能)                    |
| **管理到款**        | (优化) 高级到款查询       | 作为 [系统操作员], 我想要 [根据更多维度（如到款状态、付款方）查询到款记录]，以便 [更好地跟踪资金回收]。                         | P1     | 5.2.4.3 到款状态跟踪与查询 (隐含高级查询需求)  |
|                     | 导出口到款数据            | 作为 [系统操作员], 我想要 [将到款记录导出为Excel或CSV文件]，以便 [进行财务核对或报告]。                                   | P1     | (PRD中未明确的数据导出功能)                    |
| **获取提醒与概览**  | 配置提醒规则              | 作为 [系统操作员], 我想要 [自定义某些提醒的触发条件或接收方式]，以便 [让提醒更符合我的工作习惯]。                             | P1     | 5.2.7 系统设置 (提醒规则配置)                  |
|                     | (可选) 使用合同模板       | 作为 [系统操作员], 我想要 [创建和使用标准合同模板来快速生成新合同]，以便 [提高合同创建效率并确保规范性]。                       | P2     | (PRD中未明确的合同模板功能)                    |

## 4. 故事优先级与版本映射

- **MVP 版本**: 包含所有标记为 P0 优先级且在 MVP 列中有对应用户故事的功能。这些故事构成了产品的核心骨架，能够让用户完成最基本的操作流程。
- **V1.1 版本**: 在 MVP 基础上，增加 V1.1 列中标记为 P0 或 P1 的用户故事，重点是优化体验和增强核心模块功能。
- **V1.2 版本**: 进一步增加 V1.2 列中标记为 P0 或 P1 的用户故事，侧重于提升数据管理能力和配置灵活性。
- **P2 优先级的故事**: 可根据资源和用户反馈在相应版本或后续版本中考虑实现。

*注：此用户故事地图是动态的，会根据产品迭代和用户反馈进行调整。PRD中的功能点是最终的功能定义依据。*