# 客户管理页面测试指南

## 📋 功能清单

### ✅ 已实现的功能

1. **客户列表管理**
   - ✅ 获取客户列表（支持分页）
   - ✅ 搜索客户（按名称模糊搜索）
   - ✅ 分页显示（可调整每页数量）
   - ✅ 实时刷新列表

2. **客户CRUD操作**
   - ✅ 创建新客户
   - ✅ 查看客户详情
   - ✅ 更新客户信息
   - ✅ 删除客户

3. **客户开票信息管理**
   - ✅ 查看客户开票信息列表
   - ✅ 添加开票信息
   - ✅ 编辑开票信息
   - ✅ 删除开票信息
   - ✅ 设置默认开票信息

4. **用户界面功能**
   - ✅ 响应式设计（支持移动端）
   - ✅ 模态框表单
   - ✅ 加载状态提示
   - ✅ 成功/错误消息提示
   - ✅ 空状态显示

## 🧪 测试步骤

### 1. 环境准备

1. **确保API服务运行**
   ```bash
   # 检查API服务状态
   curl http://127.0.0.1:8080/api/v1/customers \
     -H "Authorization: Bearer YOUR_TOKEN"
   ```

2. **打开页面**
   - 在浏览器中打开 `frontend/pages/customers.html`
   - 确保控制台没有JavaScript错误

### 2. 客户列表功能测试

1. **基本列表加载**
   - [ ] 页面加载后自动显示客户列表
   - [ ] 显示正确的分页信息
   - [ ] 表格数据格式正确

2. **搜索功能**
   - [ ] 在搜索框输入客户名称
   - [ ] 验证搜索结果正确
   - [ ] 清空搜索框恢复完整列表

3. **分页功能**
   - [ ] 点击页码切换页面
   - [ ] 上一页/下一页按钮正常工作
   - [ ] 修改每页显示数量

4. **刷新功能**
   - [ ] 点击刷新按钮重新加载数据

### 3. 客户CRUD操作测试

#### 创建客户
1. **打开创建表单**
   - [ ] 点击"新增客户"按钮
   - [ ] 模态框正确显示
   - [ ] 表单字段为空

2. **填写并提交**
   - [ ] 填写必填字段（客户名称）
   - [ ] 填写可选字段
   - [ ] 提交表单
   - [ ] 验证成功消息
   - [ ] 列表自动刷新

3. **表单验证**
   - [ ] 不填写客户名称提交，验证错误提示
   - [ ] 邮箱格式验证

#### 编辑客户
1. **打开编辑表单**
   - [ ] 点击客户行的"编辑"按钮
   - [ ] 模态框显示并预填数据
   - [ ] 标题显示"编辑客户"

2. **修改并保存**
   - [ ] 修改客户信息
   - [ ] 提交表单
   - [ ] 验证更新成功
   - [ ] 列表显示更新后的数据

#### 查看客户
1. **查看详情**
   - [ ] 点击客户名称
   - [ ] 显示客户详细信息

#### 删除客户
1. **删除操作**
   - [ ] 点击"删除"按钮
   - [ ] 显示确认对话框
   - [ ] 确认删除
   - [ ] 验证删除成功
   - [ ] 客户从列表中移除

### 4. 开票信息管理测试

#### 打开开票信息管理
1. **访问开票信息**
   - [ ] 点击客户行的"开票信息"按钮
   - [ ] 开票信息模态框打开
   - [ ] 显示当前客户的开票信息列表

#### 添加开票信息
1. **创建开票信息**
   - [ ] 点击"添加开票信息"按钮
   - [ ] 开票信息表单显示
   - [ ] 填写开票信息
   - [ ] 设置默认开票信息选项
   - [ ] 提交表单
   - [ ] 验证创建成功

#### 编辑开票信息
1. **修改开票信息**
   - [ ] 点击开票信息的"编辑"按钮
   - [ ] 表单预填当前数据
   - [ ] 修改信息并保存
   - [ ] 验证更新成功

#### 删除开票信息
1. **删除操作**
   - [ ] 点击"删除"按钮
   - [ ] 确认删除
   - [ ] 验证删除成功

### 5. 用户体验测试

#### 响应式设计
1. **移动端适配**
   - [ ] 在手机浏览器中打开页面
   - [ ] 验证布局正确
   - [ ] 表格可以横向滚动
   - [ ] 模态框适配移动端

#### 加载状态
1. **加载提示**
   - [ ] API请求时显示加载动画
   - [ ] 请求完成后隐藏加载动画

#### 错误处理
1. **网络错误**
   - [ ] 断开网络连接
   - [ ] 验证错误消息显示
   - [ ] 恢复网络后功能正常

2. **API错误**
   - [ ] 使用无效token
   - [ ] 验证401错误处理
   - [ ] 验证其他HTTP错误

## 🐛 常见问题排查

### 1. 页面无法加载数据
- 检查API服务是否运行
- 检查token是否有效
- 查看浏览器控制台错误信息

### 2. 搜索功能不工作
- 检查搜索参数是否正确传递
- 验证API端点是否支持搜索

### 3. 分页显示异常
- 检查API返回的分页数据格式
- 验证分页计算逻辑

### 4. 模态框显示问题
- 检查CSS样式是否正确加载
- 验证JavaScript事件绑定

### 5. 表单提交失败
- 检查表单数据格式
- 验证API端点和请求方法
- 查看网络请求详情

## 📊 性能测试

### 1. 大数据量测试
- 测试1000+客户记录的加载性能
- 验证分页功能在大数据量下的表现

### 2. 并发操作测试
- 同时进行多个API请求
- 验证加载状态和错误处理

## 🔧 调试技巧

### 1. 浏览器开发者工具
- 使用Network标签查看API请求
- 使用Console查看JavaScript错误
- 使用Elements检查DOM结构

### 2. API测试
- 使用curl命令直接测试API
- 使用Postman等工具验证API响应

### 3. 日志输出
- 在关键位置添加console.log
- 监控API请求和响应数据

## ✅ 测试完成检查清单

- [ ] 所有CRUD操作正常工作
- [ ] 搜索和分页功能正确
- [ ] 开票信息管理完整
- [ ] 错误处理机制有效
- [ ] 用户界面友好
- [ ] 响应式设计适配
- [ ] 性能表现良好
- [ ] 无JavaScript错误
- [ ] 数据显示正确
- [ ] 操作反馈及时

## 📝 测试报告模板

```
测试日期：____
测试人员：____
浏览器版本：____
API服务版本：____

功能测试结果：
- 客户列表：✅/❌
- 客户创建：✅/❌
- 客户编辑：✅/❌
- 客户删除：✅/❌
- 开票信息管理：✅/❌
- 搜索功能：✅/❌
- 分页功能：✅/❌

发现的问题：
1. ____
2. ____

建议改进：
1. ____
2. ____
```
