/* empty css                  *//* empty css                             *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                     *//* empty css                 */import{d as M,u as A,r as P,a as S,o as B,c as O,b as a,e as l,w as t,ae as L,l as G,g as d,t as J,n as x,p as j,q as Q,v as W,E as Y,af as H,T as K,Q as X,ag as Z,ah as $,ai as h,W as ee,V as le}from"./index-2e96782b.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";const oe={class:"page-container"},ae={class:"settings-section"},se={class:"settings-section"},ne={class:"settings-section"},re={class:"settings-section"},de=M({__name:"Settings",setup(ue){const f=A(),E=P("profile"),w=P(),b=P(),n=S({username:"",email:"",full_name:"",phone:""}),u=S({currentPassword:"",newPassword:"",confirmPassword:""}),r=S({language:"zh-CN",timezone:"Asia/Shanghai",theme:"light",emailNotifications:!0,desktopNotifications:!1}),N={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},F={currentPassword:[{required:!0,message:"请输入当前密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(m,e,i)=>{e!==u.newPassword?i(new Error("两次输入的密码不一致")):i()},trigger:"blur"}]},T=()=>{f.user&&(n.username=f.user.username,n.email=f.user.email||"",n.full_name=f.user.full_name||"",n.phone=f.user.phone||"")},k=async()=>{if(w.value)try{await w.value.validate(),x.success("个人信息更新成功")}catch(m){console.error("Failed to update profile:",m)}},C=async()=>{if(b.value)try{await b.value.validate(),x.success("密码修改成功"),u.currentPassword="",u.newPassword="",u.confirmPassword=""}catch(m){console.error("Failed to update password:",m)}},R=()=>{localStorage.setItem("systemSettings",JSON.stringify(r)),x.success("系统设置保存成功")},I=()=>{const m=localStorage.getItem("systemSettings");if(m)try{Object.assign(r,JSON.parse(m))}catch(e){console.error("Failed to load system settings:",e)}};return B(()=>{T(),I()}),(m,e)=>{const i=j,s=Q,V=W,y=Y,g=H,_=K,U=X,v=Z,z=$,c=h,p=ee,q=le,D=L;return G(),O("div",oe,[e[29]||(e[29]=a("div",{class:"page-header"},[a("h2",{class:"page-title"},"系统设置")],-1)),l(D,{modelValue:E.value,"onUpdate:modelValue":e[12]||(e[12]=o=>E.value=o),type:"card"},{default:t(()=>[l(g,{label:"个人信息",name:"profile"},{default:t(()=>[a("div",ae,[e[14]||(e[14]=a("h3",null,"个人信息",-1)),l(y,{ref_key:"profileFormRef",ref:w,model:n,rules:N,"label-width":"100px",style:{"max-width":"600px"}},{default:t(()=>[l(s,{label:"用户名",prop:"username"},{default:t(()=>[l(i,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=o=>n.username=o),disabled:""},null,8,["modelValue"])]),_:1}),l(s,{label:"邮箱",prop:"email"},{default:t(()=>[l(i,{modelValue:n.email,"onUpdate:modelValue":e[1]||(e[1]=o=>n.email=o)},null,8,["modelValue"])]),_:1}),l(s,{label:"姓名",prop:"full_name"},{default:t(()=>[l(i,{modelValue:n.full_name,"onUpdate:modelValue":e[2]||(e[2]=o=>n.full_name=o)},null,8,["modelValue"])]),_:1}),l(s,{label:"电话",prop:"phone"},{default:t(()=>[l(i,{modelValue:n.phone,"onUpdate:modelValue":e[3]||(e[3]=o=>n.phone=o)},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(V,{type:"primary",onClick:k},{default:t(()=>e[13]||(e[13]=[d("更新信息")])),_:1,__:[13]})]),_:1})]),_:1},8,["model"])])]),_:1}),l(g,{label:"密码修改",name:"password"},{default:t(()=>[a("div",se,[e[16]||(e[16]=a("h3",null,"修改密码",-1)),l(y,{ref_key:"passwordFormRef",ref:b,model:u,rules:F,"label-width":"100px",style:{"max-width":"600px"}},{default:t(()=>[l(s,{label:"当前密码",prop:"currentPassword"},{default:t(()=>[l(i,{modelValue:u.currentPassword,"onUpdate:modelValue":e[4]||(e[4]=o=>u.currentPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(s,{label:"新密码",prop:"newPassword"},{default:t(()=>[l(i,{modelValue:u.newPassword,"onUpdate:modelValue":e[5]||(e[5]=o=>u.newPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(s,{label:"确认密码",prop:"confirmPassword"},{default:t(()=>[l(i,{modelValue:u.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=o=>u.confirmPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(V,{type:"primary",onClick:C},{default:t(()=>e[15]||(e[15]=[d("修改密码")])),_:1,__:[15]})]),_:1})]),_:1},8,["model"])])]),_:1}),l(g,{label:"系统配置",name:"system"},{default:t(()=>[a("div",ne,[e[21]||(e[21]=a("h3",null,"系统配置",-1)),l(y,{"label-width":"120px",style:{"max-width":"600px"}},{default:t(()=>[l(s,{label:"语言设置"},{default:t(()=>[l(U,{modelValue:r.language,"onUpdate:modelValue":e[7]||(e[7]=o=>r.language=o),style:{width:"200px"}},{default:t(()=>[l(_,{label:"简体中文",value:"zh-CN"}),l(_,{label:"English",value:"en-US"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"时区设置"},{default:t(()=>[l(U,{modelValue:r.timezone,"onUpdate:modelValue":e[8]||(e[8]=o=>r.timezone=o),style:{width:"200px"}},{default:t(()=>[l(_,{label:"北京时间 (UTC+8)",value:"Asia/Shanghai"}),l(_,{label:"纽约时间 (UTC-5)",value:"America/New_York"}),l(_,{label:"伦敦时间 (UTC+0)",value:"Europe/London"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"主题设置"},{default:t(()=>[l(z,{modelValue:r.theme,"onUpdate:modelValue":e[9]||(e[9]=o=>r.theme=o)},{default:t(()=>[l(v,{label:"light"},{default:t(()=>e[17]||(e[17]=[d("浅色主题")])),_:1,__:[17]}),l(v,{label:"dark"},{default:t(()=>e[18]||(e[18]=[d("深色主题")])),_:1,__:[18]}),l(v,{label:"auto"},{default:t(()=>e[19]||(e[19]=[d("跟随系统")])),_:1,__:[19]})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"邮件通知"},{default:t(()=>[l(c,{modelValue:r.emailNotifications,"onUpdate:modelValue":e[10]||(e[10]=o=>r.emailNotifications=o)},null,8,["modelValue"])]),_:1}),l(s,{label:"桌面通知"},{default:t(()=>[l(c,{modelValue:r.desktopNotifications,"onUpdate:modelValue":e[11]||(e[11]=o=>r.desktopNotifications=o)},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(V,{type:"primary",onClick:R},{default:t(()=>e[20]||(e[20]=[d("保存设置")])),_:1,__:[20]})]),_:1})]),_:1})])]),_:1}),l(g,{label:"关于系统",name:"about"},{default:t(()=>[a("div",re,[e[27]||(e[27]=a("h3",null,"关于系统",-1)),l(q,{column:1,border:""},{default:t(()=>[l(p,{label:"系统名称"},{default:t(()=>e[22]||(e[22]=[d("客户合同管理系统")])),_:1,__:[22]}),l(p,{label:"版本号"},{default:t(()=>e[23]||(e[23]=[d("v1.0.0")])),_:1,__:[23]}),l(p,{label:"技术栈"},{default:t(()=>e[24]||(e[24]=[d("Vue 3 + TypeScript + Element Plus + Midway")])),_:1,__:[24]}),l(p,{label:"开发团队"},{default:t(()=>e[25]||(e[25]=[d("Midway开发团队")])),_:1,__:[25]}),l(p,{label:"更新时间"},{default:t(()=>[d(J(new Date().toLocaleDateString("zh-CN")),1)]),_:1}),l(p,{label:"许可证"},{default:t(()=>e[26]||(e[26]=[d("MIT License")])),_:1,__:[26]})]),_:1}),e[28]||(e[28]=a("div",{style:{"margin-top":"24px"}},[a("h4",null,"功能特性"),a("ul",{style:{"margin-top":"12px","padding-left":"20px"}},[a("li",null,"客户信息管理"),a("li",null,"合同生命周期管理"),a("li",null,"发票开具与跟踪"),a("li",null,"支付记录管理"),a("li",null,"数据统计与分析"),a("li",null,"用户权限管理")])],-1))])]),_:1})]),_:1},8,["modelValue"])])}}});const ye=te(de,[["__scopeId","data-v-03262feb"]]);export{ye as default};
